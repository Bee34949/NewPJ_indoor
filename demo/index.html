<!-- /demo/index.html -->
<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <title>Indoor Demo (Modules)</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link href="https://unpkg.com/maplibre-gl@3.6.0/dist/maplibre-gl.css" rel="stylesheet"/>
  <link href="./style.css" rel="stylesheet"/>
</head>
<body>
  <div id="map"></div>

  <div class="stack">
    <!-- Presets -->
    <div class="card">
      <div class="hd">เดโมเร็ว</div>
      <div class="bd row">
        <button class="btn" data-preset="same">ชั้นเดียว: N170 ➜ N171</button>
        <button class="btn" data-preset="up">ข้ามชั้น: 03 ➜ 04 (ลิฟต์)</button>
        <button class="btn" data-preset="down">ข้ามชั้น: 04 ➜ 02 (บันได)</button>
      </div>
    </div>

    <!-- Door Search -->
    <div class="card">
      <div class="hd">ค้นหาโหนดประตู <span class="badge" id="door-stat">index: –</span></div>
      <div class="bd row">
        <input id="door-q" list="door-list" placeholder="เช่น N091, Door-1201" class="grow"/>
        <datalist id="door-list"></datalist>
        <button id="door-go" class="btn">GO</button>
      </div>
    </div>

    <!-- Floors -->
    <div class="card">
      <div class="hd">ชั้นอาคาร <span class="badge" id="node-count">nodes:–</span></div>
      <div class="bd chips" id="floor-chips"></div>
    </div>

    <!-- Pathfinder -->
    <div class="card">
      <div class="hd">Pathfinder</div>
      <div class="bd" style="display:grid;gap:10px">
        <div class="row">
          <div class="ctl"><label>Start</label><select id="pf-start"></select></div>
          <div class="ctl"><label>Goal</label><select id="pf-goal"></select></div>
        </div>
        <div class="row" style="justify-content:space-between">
          <label class="row"><input type="checkbox" id="pf-cross" checked/> ข้ามชั้น</label>
          <label class="row"><input type="checkbox" id="pf-avoid-stairs"/> หลีกเลี่ยงบันได</label>
          <span class="badge">floor cost: <b id="cost-badge">8m</b></span>
          <button id="pf-run" class="btn">GO</button>
        </div>
      </div>
    </div>

    <!-- Playback -->
    <div class="card">
      <div class="hd">Route Playback <span class="badge" id="pb-stat">–</span></div>
      <div class="bd" style="display:grid;gap:10px">
        <div class="row">
          <button id="pb-play" class="btn">▶︎ เล่น</button>
          <button id="pb-pause" class="btn">⏸ หยุด</button>
          <button id="pb-reset" class="btn alt">⟲ รีเซ็ต</button>
          <label class="row"><input type="checkbox" id="pb-follow" checked/> ตามกล้อง</label>
        </div>
        <div class="row">
          <label>ความเร็ว (ม./วินาที)</label>
          <input id="pb-speed" type="range" min="0.3" max="3.5" step="0.1" value="1.2" style="width:220px"/>
          <span id="pb-speed-val" class="badge">1.2</span>
          <label class="row"><input type="checkbox" id="pb-trail-same" checked/> Trail เฉพาะชั้น</label>
        </div>
        <div class="row">
          <label>พักตอนเปลี่ยนชั้น (วินาที)</label>
          <input id="pb-pause-ms" type="range" min="0" max="1.0" step="0.1" value="0.3" style="width:220px"/>
          <span id="pb-pause-val" class="badge">0.3s</span>
        </div>
      </div>
    </div>

    <!-- HUD -->
    <div class="card">
      <div class="hd">HUD</div>
      <div class="bd row">
        <span class="badge" id="hud-nodes">nodes –</span>
        <span class="badge" id="hud-segs">segments –</span>
        <span class="badge" id="hud-fps">fps –</span>
      </div>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <script src="https://unpkg.com/maplibre-gl@3.6.0/dist/maplibre-gl.js"></script>
  <script type="module" src="./js/main.js"></script>
</body>
</html>

